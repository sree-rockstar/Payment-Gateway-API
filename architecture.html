<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Gateway API - System Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .nav {
            background: #f8f9fa;
            padding: 1rem 2rem;
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav a {
            text-decoration: none;
            color: #495057;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .nav a:hover {
            background: #667eea;
            color: white;
        }

        .content {
            padding: 2rem;
        }

        .section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .section h3 {
            color: #495057;
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem 0;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .architecture-diagram {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1rem 0;
        }

        .card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .card h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        /* Beautiful Architecture Diagram Styles */
        .architecture-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
            margin: 2rem 0;
        }

        .layer {
            width: 100%;
            max-width: 1200px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .layer:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .layer-title {
            text-align: center;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3748;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .layer-title .icon {
            font-size: 1.6rem;
        }

        .components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .component {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .component:hover {
            transform: scale(1.05);
            border-color: #667eea;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }

        .component::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .component-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .component-name {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .component-desc {
            color: #718096;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .connection {
            width: 4px;
            height: 30px;
            background: linear-gradient(180deg, #667eea, #764ba2);
            margin: 0 auto;
            border-radius: 2px;
            position: relative;
        }

        .connection::after {
            content: '‚ñº';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            color: #667eea;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .protocol {
            text-align: center;
            margin: 15px 0;
            font-weight: 500;
            color: #667eea;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .feature-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Layer-specific colors */
        .client-layer {
            background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
            border-color: #38b2ac;
        }

        .client-layer::before {
            background: linear-gradient(90deg, #38b2ac, #319795);
        }

        .proxy-layer {
            background: linear-gradient(135deg, #fef5e7 0%, #fed7aa 100%);
            border-color: #ed8936;
        }

        .proxy-layer::before {
            background: linear-gradient(90deg, #ed8936, #dd6b20);
        }

        .api-layer {
            background: linear-gradient(135deg, #e6f3ff 0%, #bee3f8 100%);
            border-color: #3182ce;
        }

        .api-layer::before {
            background: linear-gradient(90deg, #3182ce, #2c5282);
        }

        .db-layer {
            background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
            border-color: #38a169;
        }

        .db-layer::before {
            background: linear-gradient(90deg, #38a169, #2f855a);
        }

        .external-layer {
            background: linear-gradient(135deg, #faf5ff 0%, #e9d8fd 100%);
            border-color: #805ad5;
        }

        .external-layer::before {
            background: linear-gradient(90deg, #805ad5, #553c9a);
        }

        .legend {
            margin-top: 40px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .legend h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #2d3748;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 8px;
            background: #f7fafc;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .footer {
            background: #495057;
            color: white;
            text-align: center;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è Payment Gateway API - System Architecture</h1>
            <p>Comprehensive system design and implementation guide</p>
        </div>

        <nav class="nav">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#tech-stack">Tech Stack</a></li>
                <li><a href="#components">Components</a></li>
                <li><a href="#security">Security</a></li>
                <li><a href="#deployment">Deployment</a></li>
            </ul>
        </nav>

        <div class="content">
            <section id="overview" class="section">
                <h2>üéØ System Overview</h2>
                <p>The Payment Gateway API is a <strong>microservices-based</strong> application designed to handle user authentication, payment processing, and transaction management. The system follows a <strong>layered architecture</strong> pattern with clear separation of concerns.</p>
                
                <div class="grid">
                    <div class="card">
                        <h4>üîê User Authentication & Authorization</h4>
                        <p>JWT-based authentication system with secure token management</p>
                    </div>
                    <div class="card">
                        <h4>üí≥ Payment Processing</h4>
                        <p>Razorpay integration for seamless payment processing</p>
                    </div>
                    <div class="card">
                        <h4>üóÑÔ∏è Transaction Management</h4>
                        <p>MongoDB-based transaction storage and management</p>
                    </div>
                    <div class="card">
                        <h4>üìö API Documentation</h4>
                        <p>Swagger/OpenAPI documentation for easy integration</p>
                    </div>
                    <div class="card">
                        <h4>üê≥ Docker Containerization</h4>
                        <p>Containerized deployment for consistency and scalability</p>
                    </div>
                    <div class="card">
                        <h4>‚öñÔ∏è Load Balancing & SSL</h4>
                        <p>Nginx reverse proxy with SSL/TLS encryption</p>
                    </div>
                </div>
            </section>

            <section id="architecture" class="section">
                <h2>üèõÔ∏è Architecture Diagram</h2>
                
                <div class="architecture-container">
                    <!-- Client Applications Layer -->
                    <div class="layer client-layer">
                        <div class="layer-title">
                            <span class="icon">üñ•Ô∏è</span>
                            Client Applications
                        </div>
                        <div class="components">
                            <div class="component">
                                <span class="component-icon">üåê</span>
                                <div class="component-name">Web Application</div>
                                <div class="component-desc">React/Vue.js frontend</div>
                                <div class="features">
                                    <span class="feature-tag">UI/UX</span>
                                    <span class="feature-tag">Responsive</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üì±</span>
                                <div class="component-name">Mobile Application</div>
                                <div class="component-desc">React Native/Flutter</div>
                                <div class="features">
                                    <span class="feature-tag">Native</span>
                                    <span class="feature-tag">Cross-platform</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üîó</span>
                                <div class="component-name">Third-party Services</div>
                                <div class="component-desc">External integrations</div>
                                <div class="features">
                                    <span class="feature-tag">API</span>
                                    <span class="feature-tag">Webhooks</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="connection"></div>
                    <div class="protocol">HTTPS/HTTP Protocol</div>

                    <!-- Nginx Reverse Proxy Layer -->
                    <div class="layer proxy-layer">
                        <div class="layer-title">
                            <span class="icon">‚öñÔ∏è</span>
                            Nginx Reverse Proxy
                        </div>
                        <div class="components">
                            <div class="component">
                                <span class="component-icon">üîí</span>
                                <div class="component-name">Port 80 (HTTP)</div>
                                <div class="component-desc">HTTP traffic handling</div>
                                <div class="features">
                                    <span class="feature-tag">Load Balancer</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üîê</span>
                                <div class="component-name">Port 443 (HTTPS)</div>
                                <div class="component-desc">SSL/TLS encryption</div>
                                <div class="features">
                                    <span class="feature-tag">SSL/TLS</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üõ°Ô∏è</span>
                                <div class="component-name">Rate Limiting</div>
                                <div class="component-desc">API protection</div>
                                <div class="features">
                                    <span class="feature-tag">Security</span>
                                    <span class="feature-tag">DDoS Protection</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="connection"></div>
                    <div class="protocol">Internal Network</div>

                    <!-- FastAPI Application Layer -->
                    <div class="layer api-layer">
                        <div class="layer-title">
                            <span class="icon">üöÄ</span>
                            FastAPI Application Layer
                        </div>
                        <div class="components">
                            <div class="component">
                                <span class="component-icon">üîë</span>
                                <div class="component-name">Auth API (JWT)</div>
                                <div class="component-desc">User authentication</div>
                                <div class="features">
                                    <span class="feature-tag">JWT</span>
                                    <span class="feature-tag">bcrypt</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üí≥</span>
                                <div class="component-name">Payment API (Razorpay)</div>
                                <div class="component-desc">Payment processing</div>
                                <div class="features">
                                    <span class="feature-tag">Razorpay</span>
                                    <span class="feature-tag">Webhooks</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üìä</span>
                                <div class="component-name">Health API (Monitoring)</div>
                                <div class="component-desc">System monitoring</div>
                                <div class="features">
                                    <span class="feature-tag">Health Check</span>
                                    <span class="feature-tag">Metrics</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="connection"></div>
                    <div class="protocol">Database Connection</div>

                    <!-- MongoDB Database Layer -->
                    <div class="layer db-layer">
                        <div class="layer-title">
                            <span class="icon">üóÑÔ∏è</span>
                            MongoDB Database
                        </div>
                        <div class="components">
                            <div class="component">
                                <span class="component-icon">üë•</span>
                                <div class="component-name">Users Collection</div>
                                <div class="component-desc">User data storage</div>
                                <div class="features">
                                    <span class="feature-tag">Profiles</span>
                                    <span class="feature-tag">Auth</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üí∞</span>
                                <div class="component-name">Payments Collection</div>
                                <div class="component-desc">Transaction records</div>
                                <div class="features">
                                    <span class="feature-tag">Transactions</span>
                                    <span class="feature-tag">History</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üîê</span>
                                <div class="component-name">Sessions Collection</div>
                                <div class="component-desc">Session management</div>
                                <div class="features">
                                    <span class="feature-tag">Sessions</span>
                                    <span class="feature-tag">Tokens</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="connection"></div>
                    <div class="protocol">External API</div>

                    <!-- External Services Layer -->
                    <div class="layer external-layer">
                        <div class="layer-title">
                            <span class="icon">üåê</span>
                            External Services
                        </div>
                        <div class="components">
                            <div class="component">
                                <span class="component-icon">üí≥</span>
                                <div class="component-name">Razorpay Gateway</div>
                                <div class="component-desc">Payment processing</div>
                                <div class="features">
                                    <span class="feature-tag">Payments</span>
                                    <span class="feature-tag">Cards</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üìß</span>
                                <div class="component-name">Email Service</div>
                                <div class="component-desc">Email notifications</div>
                                <div class="features">
                                    <span class="feature-tag">SMTP</span>
                                    <span class="feature-tag">Templates</span>
                                </div>
                            </div>
                            <div class="component">
                                <span class="component-icon">üì±</span>
                                <div class="component-name">SMS Service</div>
                                <div class="component-desc">SMS notifications</div>
                                <div class="features">
                                    <span class="feature-tag">SMS</span>
                                    <span class="feature-tag">OTP</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Legend -->
                <div class="legend">
                    <h3>üé® Architecture Color Legend</h3>
                    <div class="legend-grid">
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #38b2ac, #319795);"></div>
                            <span>Client Applications</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #ed8936, #dd6b20);"></div>
                            <span>Nginx Reverse Proxy</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #3182ce, #2c5282);"></div>
                            <span>FastAPI Application</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #38a169, #2f855a);"></div>
                            <span>MongoDB Database</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #805ad5, #553c9a);"></div>
                            <span>External Services</span>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tech-stack" class="section">
                <h2>üõ†Ô∏è Technology Stack</h2>
                
                <div class="grid">
                    <div class="card">
                        <h4>Backend Framework</h4>
                        <ul>
                            <li><strong>FastAPI</strong> - Modern, fast web framework</li>
                            <li><strong>Python 3.9+</strong> - Programming language</li>
                            <li><strong>Pydantic</strong> - Data validation</li>
                            <li><strong>Uvicorn</strong> - ASGI server</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Database</h4>
                        <ul>
                            <li><strong>MongoDB 6.0</strong> - NoSQL database</li>
                            <li><strong>Motor</strong> - Async MongoDB driver</li>
                            <li><strong>Auto-creation</strong> of DB/collections</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Authentication & Security</h4>
                        <ul>
                            <li><strong>JWT</strong> - Stateless authentication</li>
                            <li><strong>bcrypt</strong> - Password hashing</li>
                            <li><strong>CORS</strong> - Cross-origin support</li>
                            <li><strong>HTTPS/TLS</strong> - Encryption</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Payment Processing</h4>
                        <ul>
                            <li><strong>Razorpay</strong> - Payment gateway</li>
                            <li><strong>Webhook handling</strong> - Verification</li>
                            <li><strong>Test/Live mode</strong> - Environments</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Infrastructure</h4>
                        <ul>
                            <li><strong>Docker</strong> - Containerization</li>
                            <li><strong>Docker Compose</strong> - Orchestration</li>
                            <li><strong>Nginx</strong> - Reverse proxy</li>
                            <li><strong>SSL/TLS</strong> - Secure communication</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Development & Testing</h4>
                        <ul>
                            <li><strong>Swagger/OpenAPI</strong> - Documentation</li>
                            <li><strong>pytest</strong> - Testing framework</li>
                            <li><strong>curl/Postman</strong> - API testing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="components" class="section">
                <h2>üß© Component Architecture</h2>
                
                <h3>Application Layer Structure</h3>
                <div class="code-block">
app/
‚îú‚îÄ‚îÄ __init__.py          # Package initialization
‚îú‚îÄ‚îÄ main.py              # FastAPI application entry point
‚îú‚îÄ‚îÄ config.py            # Configuration management
‚îú‚îÄ‚îÄ database.py          # Database connection and setup
‚îú‚îÄ‚îÄ models.py            # Pydantic data models
‚îú‚îÄ‚îÄ auth.py              # Authentication utilities
‚îú‚îÄ‚îÄ services.py          # Business logic layer
‚îî‚îÄ‚îÄ routers/             # API route handlers
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ auth.py          # Authentication endpoints
    ‚îî‚îÄ‚îÄ payments.py      # Payment processing endpoints
                </div>

                <h3>Database Collections</h3>
                <div class="code-block">
// Users Collection
{
  "_id": ObjectId,
  "email": "user@example.com",
  "full_name": "John Doe",
  "hashed_password": "bcrypt_hash",
  "created_at": ISODate,
  "updated_at": ISODate
}

// Payments Collection
{
  "_id": ObjectId,
  "order_id": "order_xxx",
  "payment_id": "pay_xxx",
  "user_id": ObjectId,
  "amount": 1000.00,
  "currency": "INR",
  "status": "pending|completed|failed",
  "description": "Payment description",
  "razorpay_data": {},
  "created_at": ISODate,
  "updated_at": ISODate
}
                </div>
            </section>

            <section id="security" class="section">
                <h2>üîê Security Architecture</h2>
                
                <div class="grid">
                    <div class="card">
                        <h4>Authentication & Authorization</h4>
                        <ul>
                            <li><strong>JWT-based authentication</strong></li>
                            <li><strong>Token expiration</strong> (configurable)</li>
                            <li><strong>Password hashing</strong> with bcrypt</li>
                            <li><strong>Role-based access</strong> (future)</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Data Security</h4>
                        <ul>
                            <li><strong>HTTPS/TLS</strong> encryption</li>
                            <li><strong>Input validation</strong> and sanitization</li>
                            <li><strong>SQL injection</strong> prevention</li>
                            <li><strong>Environment variables</strong> for secrets</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>API Security</h4>
                        <ul>
                            <li><strong>Rate limiting</strong> (Nginx)</li>
                            <li><strong>CORS configuration</strong></li>
                            <li><strong>Request validation</strong> (Pydantic)</li>
                            <li><strong>Error handling</strong> without info leakage</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Infrastructure Security</h4>
                        <ul>
                            <li><strong>Container isolation</strong> (Docker)</li>
                            <li><strong>Network segmentation</strong></li>
                            <li><strong>SSL certificates</strong></li>
                            <li><strong>Health monitoring</strong></li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="deployment" class="section">
                <h2>üöÄ Deployment Architecture</h2>
                
                <h3>Docker Container Architecture</h3>
                <div class="architecture-diagram">
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Docker Compose Stack                     ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   Nginx     ‚îÇ  ‚îÇ    API      ‚îÇ  ‚îÇ  MongoDB    ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ Container   ‚îÇ  ‚îÇ Container   ‚îÇ  ‚îÇ Container   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ Port: 80/443‚îÇ  ‚îÇ Port: 8000  ‚îÇ  ‚îÇ Port: 27017‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   SSL       ‚îÇ  ‚îÇ   Logs      ‚îÇ  ‚îÇ   Data      ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ Volumes     ‚îÇ  ‚îÇ Volumes     ‚îÇ  ‚îÇ Volumes     ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                </div>

                <h3>Environment Configurations</h3>
                <div class="grid">
                    <div class="card">
                        <h4>Development Environment</h4>
                        <ul>
                            <li><strong>Volume mounts</strong> for live code changes</li>
                            <li><strong>Hot reloading</strong> enabled</li>
                            <li><strong>Debug mode</strong> active</li>
                            <li><strong>Test credentials</strong> for Razorpay</li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h4>Production Environment</h4>
                        <ul>
                            <li><strong>Optimized containers</strong></li>
                            <li><strong>SSL certificates</strong></li>
                            <li><strong>Rate limiting</strong></li>
                            <li><strong>Live credentials</strong> for Razorpay</li>
                            <li><strong>Monitoring</strong> and logging</li>
                        </ul>
                    </div>
                </div>

                <h3>API Endpoints</h3>
                <div class="code-block">
# Authentication Endpoints
POST /auth/signup          # User registration
POST /auth/signin          # User login
GET  /auth/profile         # Get user profile
POST /auth/signout         # User logout

# Payment Endpoints
POST /payments/create-payment    # Create payment
POST /payments/verify-payment    # Verify payment
GET  /payments/my-payments       # Get user payments

# System Endpoints
GET  /health              # Health check
GET  /db-status           # Database status
GET  /docs                # API documentation
                </div>
            </section>
        </div>

        <div class="footer">
            <p>This architecture document provides a comprehensive overview of the Payment Gateway API system design, implementation details, and future considerations.</p>
            <p><strong>Generated:</strong> January 2024 | <strong>Version:</strong> 1.0.0</p>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Architecture diagram animations
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to components
            const components = document.querySelectorAll('.component');
            components.forEach(component => {
                component.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                });
                
                component.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            // Add scroll animations for layers
            const layers = document.querySelectorAll('.layer');
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            layers.forEach((layer, index) => {
                layer.style.opacity = '0';
                layer.style.transform = 'translateY(20px)';
                layer.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                layer.style.transitionDelay = `${index * 0.2}s`;
                observer.observe(layer);
            });
        });
    </script>
</body>
</html>
